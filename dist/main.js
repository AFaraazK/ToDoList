(()=>{const e=document.querySelector(".projectList"),t=document.querySelector(".taskList"),n=document.querySelector(".newProject"),r=document.querySelector(".newTask"),i=document.querySelector(".deleteProject");let l,d=[];function a(e,t,n){return{name:e,id:t,tasks:n,newTask:function(e){n.push(e)}}}function o(){for(;e.firstChild;)e.removeChild(e.firstChild);d.forEach((t=>{let n=document.createElement("li");n.innerHTML=t.name,n.dataset.projectid=t.id,t.id==l&&(n.style.fontWeight="bold",n.style.backgroundColor="var(--purple)"),e.appendChild(n)})),null!=l&&(document.querySelector(".taskHeader").innerText=d.find((e=>e.id==l)).name)}function s(){for(;t.firstChild;)t.removeChild(t.firstChild);null!=l&&d.find((e=>e.id==l)).tasks.forEach((e=>{let n=document.createElement("li");n.innerHTML=e,t.appendChild(n)}))}n.addEventListener("keypress",(e=>{if("Enter"==e.key){let e=new a(n.value,Date.now(),[]);d.push(e),o(),n.value=""}})),r.addEventListener("keypress",(e=>{"Enter"==e.key&&""!=r.value&&null!=l&&(d.find((e=>e.id==l)).newTask(r.value),s(),r.value="")})),e.addEventListener("click",(e=>{"li"==e.target.tagName.toLowerCase()&&(l=e.target.dataset.projectid,o(),s())})),i.addEventListener("click",(e=>{d=d.filter((e=>e.id!=l)),l=null,o(),s()}));let c=new a("Example Project",Date.now().toString(),[]);d.push(c),o(),c.newTask("Get Groceries"),c.newTask("Wash the dishes")})();